<p-toast [style]="{marginTop: '80px'}"></p-toast>
<p-panel>
    <p-header>
        <div class="ui-helper-clearfix">
            <span class="ui-panel-title">Restaurantes</span>
          <p-button icon="pi pi-plus" iconPos="right" class="float-right" label="Adicionar Restaurante" (click)="criarNovo()"></p-button>
        </div>
    </p-header>
  <div class="ui-g mt-2"  *ngIf="(restaurantes$ | async) as restaurantes;">
      <p-table [value]="restaurantes">
          <ng-template pTemplate="header">
              <tr>
                  <th>Nome</th>
                  <th>Endereço</th>
                  <th>Ações</th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-restaurante>
              <tr>
                  <td>{{restaurante.nome}}</td>
                  <td>{{restaurante.endereco}}</td>
                  <td>
                      <span class="float-right">
                          <button class="btn btn-outline-primary mb-1 mr-1 btn-sm" (click)="votar(restaurante.id)">
                              Votar
                            </button>
                          <button class="btn btn-outline-warning mb-1 mr-1 btn-sm" (click)="editar(restaurante.id)">
                            Editar
                          </button>
                          <button class="btn btn-outline-danger mb-1 btn-sm" (click)="confirmarExclusao(restaurante)">
                            Excluir
                          </button>
                        </span>
                  </td>
              </tr>
          </ng-template>
      </p-table>
    <div class="ui-g-12">
    </div>
  </div>
  <p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
</p-panel>
<p-dialog header="Title" [(visible)]="mostrarDialogoConfirmacao">
    <app-confirmar-pessoa (submitted)="enviarConfirmacaoPessoa()" (cancelado)="cancelar()"></app-confirmar-pessoa>
</p-dialog>
